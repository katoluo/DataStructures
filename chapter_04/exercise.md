# 第4章	串、数组和广义表

## 习题

#### 1. 选择题

（1）串是一种特殊的线性表，其特殊性体现在（B）。

​	A.	可以顺序存储				B.	数据元素是单个字符

​	C.	可以链式存储				D.	数据元素可以是多个字符



（2）下列关于串的叙述中，不正确的是（B）。

​	A.	串是字符的有限序列

​	B.	空串是由空格构成的串

​	C.	模式匹配是串的一种重要运算

​	D.	串既可以采用顺序存储，也可以采用链式存储



（3）串 “ababaaababaa” 的next数组为（C）。

​	A.	012345678999				B.	012121111212

​	C.	011234223456				D.	0123012322345



（4）串 “ababaabab” 的 nextval 为（A）。

​	A.	010104101						B.	010102101

​	C.	010100011						D.	010101011



（5）串的长度是指（B）

​	A.	串中所含不同字母的个数

​	B.	串中所含字符的个数

​	C.	串中所含不同字符的个数

​	D.	串中所含非空格字符的个数



（6）假设以行序为主序存储二维数组$A=array[1..100,1..100]$，设每个数据元素所占存储单元，基地址为10,则$LOC[5,5]=$（B）。

​	A.	808			B.	818			C.	1010			D.	1020



（7）设有数组$A[i,j]$，数组的每个元素长度为3字节，i的值为1～8，j的值为1～10，数组从内存首地址 BA 开始顺序存放，当用以列为主存放时，元素$A[5,8]$的存储首地址为（B）。

​	A.	BA + 141					B.	BA + 180

​	C.	BA + 222					D.	BA + 225

> 二维数组A有8行10列，首地址为BA，以列为主存放；求第5行第8列的存储首地址？意思就是找到第8列的第5个元素的地址，每列有8个元素，首先求得第8列的首地址为：8 * 7 * 3 + BA = 168 + BA；然后加上第5个元素的地址长度：168 + BA + 4 * 3 = 180 + BA

（8）设有 个 10 阶的对称矩阵 A , 采用压缩存储方式，以行序为主存储，$a_{11}$为第一元素，其存储地址为1，每个元素占一个地址空间，则$a_{85}$的地址为（C）。

​	A.	13		B.	32			C.	33			D.	40

> 第n行有n个元素，所以第从第1行到第8行总共有(1 + 8) * 8 / 2 = 36个元素，第1个元素的地址为1,那么$a_{88}$的地址为36，然后可以轻松得到$a_{85}$为33。

（9）若对n阶对称矩阵A以行序为主序 方式将其下三角形的元素（包括主对角线上所有元素）依次存放于一维数组$B[1..(n(n+1))/2]$中，则在B中确定$a_{ij}(i<j)$的位置k的关系为（B）。

​	A.	$i*(i-1)/2+j$						B.	$j*(j-1)/2+i$

​	B.	$i*(i+1)/2+j$						D.	$j*(j+1)/2+i$

> 

（10）二维数组 A 的每个元素是由 10 个字符组成的串, 其行下标 i = 0, 1, ..., 8，列下标 j = 1, 2, ..., 10。若A按行先存储，元素A[8, 5]的起始地址与当A按列先存储时的元素（A）的起始地址相同。设每个字符占一个字节。

​	A.	$A[8,5]$		B.	$A[3,10]$		C.	$A[5,8]$			D.	$A[0,9]$	

> 9行10列的二维数组；每个元素占10个字节；我们先试着求出A[8, 5]的地址：A + 8 * 10 * 10 + 4 * 10 = A + 840；然后使用按列存储的方式简单试一下，可以试出第10列的存储起始位置为：9 * 9 * 10 + A = 810 + A；A[0, 10] 为810；A[1, 10] 为820；得出A[3, 10]为840。

（11）设二维数组$A[1..m,1..n]$（即m行n列）按行存储在数组$B[1..m*n]$中，则二维数组元素$A[i,j]$在一维数组B中的下标为（A）。

​	A.	(i - 1) x n + j								   B.	(i - 1) x n + j - 1

​	C.	i x (j - 1)										  D.	j x m + i - 1

> 求第i行第j列的下标，求第i行第j个元素的下标为：(i - 1) * n + j

（12）数组$A[0..4,-1..-3,5..7]$中含有元素的个数为（B）。

​	A.	55		B.	45		C.	36		D.	16

> 在我理解是一个三位数组，5 * 3 * 3 = 45

（13）广义表 A= (a,b,(c,d),(e,(f,g))), 则 Head(Tail(Head(Tail(Tail(A)))))的值为（D）。

​	A.	(g)		B.	(d)		C.	c		D.	d

> 看过书之后就很容易得到答案D

（14）广义表((a,b,c,d))的表头是（C），表尾是（B）。

​	A.	a		B.	()		C.	(a, b, c, d)		D.	(b, c, d)

（15）设广义表L=((a, b, c))，则L的长度和深度分别为（C）。

​	A.	1和1		B.	1和3		C.	1和2		D.	2和3



#### 2. 应用题

（1）已知模式串t="abcaabbabcab"，写出用KMP法求得的每个字符对应的 next 和 nextval函数值。

|   序号j    |  1   |  2   |  3   |  4   |  5   |  6   |  7   |  8   |  9   |  10  |  11  |  12  |
| :--------: | :--: | :--: | :--: | :--: | :--: | :--: | :--: | :--: | :--: | :--: | :--: | :--: |
|   模式串   |  a   |  b   |  c   |  a   |  a   |  b   |  b   |  a   |  b   |  c   |  a   |  b   |
|  next[j]   |  0   |  1   |  1   |  1   |  2   |  2   |  3   |  1   |  2   |  3   |  4   |  5   |
| nextval[j] |  0   |  1   |  1   |  0   |  2   |  1   |  3   |  0   |  1   |  1   |  0   |  5   |



（2）设目标为 t = "abcaabbabcabaacbacba"，模式为 p = "abcabaa"。

- 计算模式p的nextval函数值；
- 画出利用KMP算法进行模式匹配时每以趟的匹配过程。

|   序号j    |  1   |  2   |  3   |  4   |  5   |  6   |  7   |
| :--------: | :--: | :--: | :--: | :--: | :--: | :--: | :--: |
|  模式串p   |  a   |  b   |  c   |  a   |  b   |  a   |  a   |
|  next[j]   |  0   |  1   |  1   |  1   |  2   |  3   |  2   |
| nextval[j] |  0   |  1   |  1   |  0   |  1   |  3   |  2   |

> 过程如下：
>
> 第一趟匹配：	abcaabbabcabaacbacba
>
> ​							abcab(i = 5, j = 5)
>
> 第二趟匹配：	abcaabbabcabaacbacba
>
> ​									abc(i = 7, j = 3)
>
> 第三趟匹配：	abcaabbabcabaacbacba
>
> ​										a(i = 7, j = 1)
>
> 第四趟匹配：				   abcabaa(i = 15, j = 8 > len(p))
>
> （成功）



（3）数组A中，每个元素 A[i, j] 的长度均为32个二进制位，行下标从-1～9，列下标从1～11，从首地址S开始连续存放在主存储器中，主存储器字长为16位。求：

- 存放该数组所需多少单元？

> 11 * 11 * (32 / 16) = 242

- 存放数组第4列所有元素至少需多少单元？

> 每列有11个元素，每个元素占2个单元，所以需要22个单元

- 数组按行存放时，元素A[7, 4] 的起始地址是多少？

> A[7, 4] 为数组的第9行第4个元素；第9行的起始地址为：8 × 11 × 2 + S = S + 176；第4个元素则再加上 3 × 2 = 6；最终的起始地址为 S + 182。

- 数组按列存放时，元素A[4, 7] 的起始地址是多少？

> 按列存放，求第6行第7个元素的地址；可以想象得到前6列元素都在目标地址之前，求得第7列起始地址为：S + 6 × 11 × 2 = S + 132；到现在来看是要求第7列中的第6个元素的地址：S + 132 + 5 × 2 = S + 142。